{"version":3,"file":"static/js/970.725cafe5.chunk.js","mappings":"+PACA,EAAyB,4B,SCOnBA,EAAc,WAClB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAiB,mCAAG,oGAEtBN,GAAW,GAFW,UAGAO,EAAAA,EAAAA,IAAgBJ,GAHhB,OAKH,KAFbK,EAHgB,QAKdC,QAAiBR,EAErBH,EAAUU,GADVE,EAAAA,OAAAA,KAAY,4CANM,gDAStBR,EAAS,KAAMS,SATO,yBAWtBX,GAAW,GAXW,4EAAH,qDAcvBM,GACD,GAAE,CAACH,EAASF,IAEb,IAAMW,EAAWf,EAAOgB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OAC1B,2BACE,eAAGC,UAAWC,EAAd,qBAAmCH,MACnC,uBAAIC,MAFGF,EADiB,IAO5B,OACE,gCACGf,IAAW,sCACXE,IAAS,iCACTJ,EAAOY,OAAS,IACf,0BACE,wBAAKG,QAKd,EACD,IAEAjB,EAAYwB,aAAe,CACzBtB,OAAQ,G,sLCrDJuB,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,mCACTC,SAAU,WAIDC,EAAe,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SACNP,EAASQ,IAC9B,sBAEA,CACEL,OAAQ,CACNI,KAAAA,KANuB,uBACrBE,EADqB,EACrBA,KADqB,kBAUtBA,EAAKrB,SAViB,2CAAH,qDAafsB,EAAe,mCAAG,WAAM3B,GAAN,yFACNiB,EAASQ,IAAT,iBAAuBzB,IADjB,uBACrB0B,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfE,EAAc,mCAAG,WAAMC,GAAN,yFACLZ,EAASQ,IAAT,gBAA8B,CACnDL,OAAQ,CACNS,MAAAA,KAHwB,uBACpBH,EADoB,EACpBA,KADoB,kBAMrBA,EAAKrB,SANgB,2CAAH,sDASdyB,EAAY,mCAAG,WAAM9B,GAAN,yFACHiB,EAASQ,IAAT,iBAAuBzB,EAAvB,aADG,uBAClB0B,EADkB,EAClBA,KADkB,kBAEnBA,EAAKK,MAFc,2CAAH,sDAKZ3B,EAAe,mCAAG,WAAMJ,GAAN,yFACNiB,EAASQ,IAAT,iBAAuBzB,EAAvB,aADM,uBACrB0B,EADqB,EACrBA,KADqB,kBAGtBA,EAAKrB,SAHiB,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/ReviewsPage/reviewsPage.module.css?a61b","pages/ReviewsPage/ReviewsPage.jsx","shared/styles/services/movieApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"author\":\"reviewsPage_author__x+r7E\"};","import { Notify } from 'notiflix';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { getReviewsMovie } from 'shared/styles/services/movieApi';\n\nimport css from '../ReviewsPage/reviewsPage.module.css';\n\nconst ReviewsPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchReviewsMovie = async () => {\n      try {\n        setLoading(true);\n        const results = await getReviewsMovie(movieId);\n        // console.log(results);\n        results.length === 0 && !error\n          ? Notify.info('We don`t have any reviews for this movie')\n          : setMovies(results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReviewsMovie();\n  }, [movieId, error]);\n\n  const elements = movies.map(({ id, author, content }) => (\n    <li key={id}>\n      <p className={css.author}>Author: {author}</p>\n      <p>{content}</p>\n    </li>\n  ));\n\n  return (\n    <>\n      {loading && <p>...loading</p>}\n      {error && <p>Error</p>}\n      {movies.length > 0 && (\n        <div>\n          <ul>{elements}</ul>\n        </div>\n      )}\n    </>\n  );\n};\nexport default ReviewsPage;\n\nReviewsPage.defaultProps = {\n  movies: [],\n};\n\nReviewsPage.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      author: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n","import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '4a2018560b79424f21a897c5cf387007',\n    language: 'en-US',\n  },\n});\n\nexport const getPopularMovie = async (page = 1) => {\n  const { data } = await instance.get(\n    '/trending/movie/day',\n    //об'єкт з налаштуваннями один з яких params: параметри запиту після ?\n    {\n      params: {\n        page,\n      },\n    }\n  );\n  return data.results;\n};\n\nexport const getDetailsMovie = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}`);\n  return data;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      query,\n    },\n  });\n  return data.results;\n};\n\nexport const getCastMovie = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/credits`);\n  return data.cast;\n};\n\nexport const getReviewsMovie = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/reviews`);\n  // console.log(data.results);\n  return data.results;\n};\n"],"names":["ReviewsPage","useState","movies","setMovies","loading","setLoading","error","setError","movieId","useParams","useEffect","fetchReviewsMovie","getReviewsMovie","results","length","Notify","message","elements","map","id","author","content","className","css","defaultProps","instance","axios","baseURL","params","api_key","language","getPopularMovie","page","get","data","getDetailsMovie","getSearchMovie","query","getCastMovie","cast"],"sourceRoot":""}